# Unified Retreival Engine - Main Configuration
# Environment variables are loaded using ${oc.env:VAR_NAME} syntax
# You can override any value at runtime or via command line

# Application Info
app:
  app_name: "Unified Retreival Engine"
  app_version: "0.1.0"
  environment: "development"
  upload_dir: "data/uploads"
  cache_dir: "data/cache"

# OpenAI Configuration
openai:
  api_key: ${oc.env:OPENAI_API_KEY}

# Pinecone Cloud Configuration
pinecone:
  environment: ${oc.env:PINECONE_ENVIRONMENT}
  api_key: ${oc.env:PINECONE_API_KEY}
  index_name: ${oc.env:PINECONE_INDEX_NAME}

# Document Processing Settings
document_processing:
  chunk_size: 512
  chunk_overlap: 50
  min_chunk_overlap: 256
  use_docling: True

# Supabase Configuration
supabase:
  database_url: ${oc.env:DATABASE_URL}
  db_user: ${oc.env:DB_USER}
  db_password: ${oc.env:DB_PASSWORD}
  db_host: ${oc.env:DB_HOST}
  db_port: ${oc.env:DB_PORT}
  db_name: ${oc.env:DB_NAME}

# Opik Monitoring
opik:
  api_key: ${oc.env:OPIK_API_KEY}
  project_name: ${app.app_name}

# Vanna 2.0 Configuration (Text-to-SQL)
vanna:
  vanna_model: "gpt-4o"
  vanna_pinecone_index: "vanna_sql_index"
  vanna_namespace: "ure_sql_agent"
  vanna_temperature: 0.0  # 0.0 = fully deterministic, 1.0 = creative (range: 0.0-2.0)
  vanna_top_p: 0.1  # Nucleus sampling threshold (range: 0.0-1.0)
  vanna_seed: 42  # Random seed for reproducibility
  vanna_max_tokens: 1000  # Maximum tokens for SQL generation

# Storage Backend Configuration
storage:
  storage_backend: s3 # Options: local, s3
  s3_cache_bucket: ure-cache-bucket # S3 Configuration (for Lambda deployment)
  aws_region: us-east-1

# Upstash Redis Configuration (Query-level caching)
upstash:
  redis_url: ${oc.env:UPSTASH_REDIS_URL}
  redis_token: ${oc.env:UPSTASH_REDIS_TOKEN}

# Cache TTL Configuration (in seconds)
cache:
  ttl_embeddings: 604800   # 7 days - embeddings are static
  ttl_rag: 3600            # 1 hour - may change with new documents
  ttl_sql_gen: 86400       # 24 hours - schema relatively stable
  ttl_sql_result: 900      # 15 minutes - data changes frequently

# Logging Configuration
logging:
  level: "INFO"

# API Settings
api:
  host: "0.0.0.0"
  port: 8000


